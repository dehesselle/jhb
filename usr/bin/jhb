#!/usr/bin/env bash
#
# SPDX-FileCopyrightText: 2021 Ren√© de Hesselle <dehesselle@web.de>
#
# SPDX-License-Identifier: GPL-2.0-or-later

### description ################################################################

# This script is a wrapper around the jhbuild binary to run it in our
# configured environment (etc/jhb.conf).

### shellcheck #################################################################

# Nothing here.

### includes ###################################################################

#---------------------------------------------------------- source configuration

# shellcheck disable=SC1090 # can't point to a single source here
for config in $(\
    "$(dirname "${BASH_SOURCE[0]}")"/run-parts list \
        "$(dirname "${BASH_SOURCE[0]}")"/../../etc/jhb.conf/'*.sh' \
    ); do
  source "$config"
done

### variables ##################################################################

# shellcheck disable=SC2034 # export not desired
PYTHON=$BIN_DIR/python3   # required for libxml2

### functions ##################################################################

# Nothing here.

### main #######################################################################

"$USR_DIR"/bin/jhbuild "$@"